<!DOCTYPE html>
<html lang="zh-CN" style="background: #000000 !important;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>极简黑色测试页</title>

    <!-- 完全相同的PWA配置 -->
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="BlackTest">
    <meta name="color-scheme" content="dark">

    <!-- 启动画面 - iPhone 17 Pro -->
    <link rel="apple-touch-startup-image" media="(device-width: 402px) and (device-height: 768px) and (-webkit-device-pixel-ratio: 3)" href="./img/splash/iphone-17-pro-portrait.png">
    <link rel="apple-touch-startup-image" href="./img/splash/iphone-17-pro-portrait.png">

    <style>
        * {
            margin: 0 !important;
            padding: 0 !important;
            background: #000000 !important;
            color: #00ff00 !important;
        }
        html, body {
            width: 100% !important;
            height: 100% !important;
            overflow: hidden !important;
        }
    </style>

    <script>
        // 记录页面加载时间
        const timings = {
            scriptStart: performance.now(),
            domLoading: 0,
            domComplete: 0,
            loadComplete: 0
        };

        // 立即设置背景
        document.documentElement.style.cssText = 'background: #000000 !important; margin: 0; padding: 0;';
        if (document.body) {
            document.body.style.cssText = 'background: #000000 !important; margin: 0; padding: 0;';
        }

        document.addEventListener('DOMContentLoaded', function() {
            timings.domLoading = performance.now();
        });

        window.addEventListener('load', function() {
            timings.loadComplete = performance.now();
            setTimeout(function() {
                const report = document.getElementById('report');
                if (report) {
                    report.innerHTML = `
                        <div style="font-family: monospace; padding: 20px;">
                            <h2>极简页面加载测试</h2>
                            <p>Script执行: ${timings.scriptStart.toFixed(2)}ms</p>
                            <p>DOM加载: ${timings.domLoading.toFixed(2)}ms</p>
                            <p>页面完成: ${timings.loadComplete.toFixed(2)}ms</p>
                            <p>从script到完成: ${(timings.loadComplete - timings.scriptStart).toFixed(2)}ms</p>
                            <hr>
                            <p style="color: #ffff00 !important;">如果看到这个页面没有任何白屏闪烁，</p>
                            <p style="color: #ffff00 !important;">说明问题出在主页面的其他资源加载上。</p>
                        </div>
                    `;
                }
            }, 100);
        });
    </script>
</head>
<body style="background: #000000 !important; margin: 0; padding: 0;">
    <div id="report" style="background: #000000 !important; color: #00ff00 !important; padding: 20px;">
        <h1>加载中...</h1>
    </div>
</body>
</html>